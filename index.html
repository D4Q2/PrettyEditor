<!DOCTYPE html>
<html>
  <head>
    <style>
      .editor { font-family: 'Roboto Mono', monospace; font-size: 12px; outline: none; overflow-y: auto; padding-left: 48px; counter-reset: line; }
      .editor div { display: block; position: relative; white-space: pre-wrap; }
      ifelse { color: purple;}
      for { color: red;}
    </style>
  </head>

  <body>
    <div class="editor" contenteditable="true" spellcheck="false">
      <div>function example() {</div>
      <div>  return 42;</div>
      <div>}</div>
    </div>
    <script>
      // Syntax highlight for JS
      const js = el => {
        for (const node of el.children) {
          const s = node.innerText
            .replace(/(\/\/.*)/g, '<em>$1</em>')
            .replace(
              /\b(if|else)(?=[^\w])/g,
              '<ifelse>$1</ifelse>',
            )
            .replace(
              /\b(for)(?=[^\w])/g,
              '<for>$1</for>',
            )
            .replace(/(".*?"|'.*?'|`.*?`)/g, '<strong><em>$1</em></strong>')
            .replace(/\b(\d+)/g, '<em><strong>$1</strong></em>');
          node.innerHTML = s.split('\n').join('<br/>');
        }
      };

      // Turn div into an editor
      const el = document.querySelector('.editor');
      el.focus();
    </script>
  </body>
</html>
